import streamlit as st
import pandas as pd
import numpy as np
from sklearn.preprocessing import StandardScaler
from sklearn.model_selection import train_test_split
from sklearn.metrics import classification_report,confusion_matrix,accuracy_score
from sklearn.metrics import precision_score, recall_score, f1_score
from PIL import Image
import time

from joblib import dump,load
ml_model=load('rf_model.joblib')


# Load Data
df = pd.read_csv("empty_df.csv")

# df_1 = pd.read_csv("dataset.csv")
df_2 = pd.read_csv("symptom_Description.csv")
df_3 = pd.read_csv("symptom_precaution.csv")
# df_4 = pd.read_csv("Symptom-severity.csv")

# # Encode symptomps with severity
# def encode_symptoms(df, df_4):
#     for i in df_4.index:
#         symptom = df_4["Symptom"][i]
#         weight = df_4["weight"][i]
#         df = df.replace(symptom, weight)

#     # Replace missing values with 0
#     df = df.fillna(0)

#     # Additional hardcoded replacements
#     df = df.replace("foul_smell_of_urine", 5)
#     df = df.replace("dischromic__patches", 6)
#     df = df.replace("spotting__urination", 6)
    
#     return df

# # Encode data with severity
# new_df_1 = encode_symptoms(df_1, df_4)

# # separating the data and labels
# X = new_df_1.drop(columns='Disease', axis=1)
# Y = new_df_1['Disease']

# # Data Standardization
# scaler = StandardScaler()
# scaler.fit(X)
# # Set standardized data
# standardized_data = scaler.transform(X)
# X = standardized_data
# Y = new_df_1['Disease']

# # Train Model
# from sklearn.ensemble import RandomForestClassifier
# # Split the data into training and testing sets
# X_train, X_test, Y_train, Y_test = train_test_split(X, Y, test_size=0.2, random_state=42)

# # Create a Random Forest Classifier
# rfc_classifier = RandomForestClassifier(n_estimators=100, random_state=42)

# # Fit the model on the training data
# rfc_classifier.fit(X_train, Y_train)


image = Image.open("ml.jpg")


# Create subsections 
header = st.container()

with header:
    st.title("BlueZayn's Disease Prediction Model")
    st.image(image)
    st.markdown("Takes in symptoms and predicts a disease, gives a description and some precautions to take, asks some questions and generates a summary report that can be downloaded. (*For mobile users, open side panel to input symptoms*)")


st.sidebar.header("What are your symptoms?")
st.sidebar.markdown("Select your symptoms")
st.sidebar.markdown("**Press the predict button when done**")

disease_classes = ['(vertigo) Paroymsal  Positional Vertigo', 'AIDS', 'Acne',
       'Alcoholic hepatitis', 'Allergy', 'Arthritis', 'Bronchial Asthma',
       'Cervical spondylosis', 'Chicken pox', 'Chronic cholestasis',
       'Common Cold', 'Dengue', 'Diabetes ',
       'Dimorphic hemmorhoids(piles)', 'Drug Reaction',
       'Fungal infection', 'GERD', 'Gastroenteritis', 'Heart attack',
       'Hepatitis B', 'Hepatitis C', 'Hepatitis D', 'Hepatitis E',
       'Hypertension ', 'Hyperthyroidism', 'Hypoglycemia',
       'Hypothyroidism', 'Impetigo', 'Jaundice', 'Malaria', 'Migraine',
       'Osteoarthristis', 'Paralysis (brain hemorrhage)',
       'Peptic ulcer diseae', 'Pneumonia', 'Psoriasis', 'Tuberculosis',
       'Typhoid', 'Urinary tract infection', 'Varicose veins',
       'hepatitis A']
options = st.sidebar.multiselect(" ", options= df.columns)

# def user_input_symp():    
#     symp_1 = st.sidebar.selectbox("Symptom_1", options= [np.nan,'abdominal_pain','abnormal_menstruation','acidity','acute_liver_failure','altered_sensorium', 'anxiety','back_pain','belly_pain','blackheads','bladder_discomfort','blister','blood_in_sputum','bloody_stool','blurred_and_distorted_vision','breathlessness','brittle_nails','bruising','burning_micturition','chest_pain','chills', 'cold_hands_and_feets','coma','congestion','constipation','continuous_feel_of_urine','continuous_sneezing','cough','cramps','dark_urine','dehydration','depression', 'diarrhoea','dischromic__patches','distention_of_abdomen','dizziness','drying_and_tingling_lips','enlarged_thyroid','excessive_hunger','extra_marital_contacts','family_history', 'fast_heart_rate','fatigue', 'fluid_overload','foul_smell_of_urine','headache','high_fever','hip_joint_pain', 'history_of_alcohol_consumption','increased_appetite','indigestion','inflammatory_nails','internal_itching','irregular_sugar_level','irritability','irritation_in_anus','itching','joint_pain','knee_pain','lack_of_concentration', 'lethargy','loss_of_appetite','loss_of_balance', 'loss_of_smell','malaise','mild_fever','mood_swings','movement_stiffness', 'mucoid_sputum','muscle_pain','muscle_wasting','muscle_weakness','nausea','neck_pain','nodal_skin_eruptions','obesity','pain_behind_the_eyes','pain_during_bowel_movements','pain_in_anal_region','painful_walking','palpitations','passage_of_gases','patches_in_throat','phlegm','polyuria','prominent_veins_on_calf','puffy_face_and_eyes','pus_filled_pimples','receiving_blood_transfusion','receiving_unsterile_injections','red_sore_around_nose','red_spots_over_body','redness_of_eyes','restlessness','runny_nose','rusty_sputum','scurring','shivering','silver_like_dusting','sinus_pressure','skin_peeling','skin_rash','slurred_speech','small_dents_in_nails','spinning_movements','spotting__urination','stiff_neck','stomach_bleeding','stomach_pain','sunken_eyes','sweating','swelled_lymph_nodes','swelling_joints','swelling_of_stomach','swollen_blood_vessels','swollen_extremeties','swollen_legs','throat_irritation','toxic_look_(typhos)','ulcers_on_tongue','unsteadiness','visual_disturbances','vomiting','watering_from_eyes','weakness_in_limbs','weakness_of_one_body_side','weight_gain','weight_loss','yellow_crust_ooze','yellow_urine','yellowing_of_eyes','yellowish_skin'])
#     symp_2 = st.sidebar.selectbox("Symptom_2", options= [np.nan,'abdominal_pain','abnormal_menstruation','acidity','acute_liver_failure','altered_sensorium', 'anxiety','back_pain','belly_pain','blackheads','bladder_discomfort','blister','blood_in_sputum','bloody_stool','blurred_and_distorted_vision','breathlessness','brittle_nails','bruising','burning_micturition','chest_pain','chills', 'cold_hands_and_feets','coma','congestion','constipation','continuous_feel_of_urine','continuous_sneezing','cough','cramps','dark_urine','dehydration','depression', 'diarrhoea','dischromic__patches','distention_of_abdomen','dizziness','drying_and_tingling_lips','enlarged_thyroid','excessive_hunger','extra_marital_contacts','family_history', 'fast_heart_rate','fatigue', 'fluid_overload','foul_smell_of_urine','headache','high_fever','hip_joint_pain', 'history_of_alcohol_consumption','increased_appetite','indigestion','inflammatory_nails','internal_itching','irregular_sugar_level','irritability','irritation_in_anus','itching','joint_pain','knee_pain','lack_of_concentration', 'lethargy','loss_of_appetite','loss_of_balance', 'loss_of_smell','malaise','mild_fever','mood_swings','movement_stiffness', 'mucoid_sputum','muscle_pain','muscle_wasting','muscle_weakness','nausea','neck_pain','nodal_skin_eruptions','obesity','pain_behind_the_eyes','pain_during_bowel_movements','pain_in_anal_region','painful_walking','palpitations','passage_of_gases','patches_in_throat','phlegm','polyuria','prominent_veins_on_calf','puffy_face_and_eyes','pus_filled_pimples','receiving_blood_transfusion','receiving_unsterile_injections','red_sore_around_nose','red_spots_over_body','redness_of_eyes','restlessness','runny_nose','rusty_sputum','scurring','shivering','silver_like_dusting','sinus_pressure','skin_peeling','skin_rash','slurred_speech','small_dents_in_nails','spinning_movements','spotting__urination','stiff_neck','stomach_bleeding','stomach_pain','sunken_eyes','sweating','swelled_lymph_nodes','swelling_joints','swelling_of_stomach','swollen_blood_vessels','swollen_extremeties','swollen_legs','throat_irritation','toxic_look_(typhos)','ulcers_on_tongue','unsteadiness','visual_disturbances','vomiting','watering_from_eyes','weakness_in_limbs','weakness_of_one_body_side','weight_gain','weight_loss','yellow_crust_ooze','yellow_urine','yellowing_of_eyes','yellowish_skin'])
#     symp_3 = st.sidebar.selectbox("Symptom_3", options= [np.nan,'abdominal_pain','abnormal_menstruation','acidity','acute_liver_failure','altered_sensorium', 'anxiety','back_pain','belly_pain','blackheads','bladder_discomfort','blister','blood_in_sputum','bloody_stool','blurred_and_distorted_vision','breathlessness','brittle_nails','bruising','burning_micturition','chest_pain','chills', 'cold_hands_and_feets','coma','congestion','constipation','continuous_feel_of_urine','continuous_sneezing','cough','cramps','dark_urine','dehydration','depression', 'diarrhoea','dischromic__patches','distention_of_abdomen','dizziness','drying_and_tingling_lips','enlarged_thyroid','excessive_hunger','extra_marital_contacts','family_history', 'fast_heart_rate','fatigue', 'fluid_overload','foul_smell_of_urine','headache','high_fever','hip_joint_pain', 'history_of_alcohol_consumption','increased_appetite','indigestion','inflammatory_nails','internal_itching','irregular_sugar_level','irritability','irritation_in_anus','itching','joint_pain','knee_pain','lack_of_concentration', 'lethargy','loss_of_appetite','loss_of_balance', 'loss_of_smell','malaise','mild_fever','mood_swings','movement_stiffness', 'mucoid_sputum','muscle_pain','muscle_wasting','muscle_weakness','nausea','neck_pain','nodal_skin_eruptions','obesity','pain_behind_the_eyes','pain_during_bowel_movements','pain_in_anal_region','painful_walking','palpitations','passage_of_gases','patches_in_throat','phlegm','polyuria','prominent_veins_on_calf','puffy_face_and_eyes','pus_filled_pimples','receiving_blood_transfusion','receiving_unsterile_injections','red_sore_around_nose','red_spots_over_body','redness_of_eyes','restlessness','runny_nose','rusty_sputum','scurring','shivering','silver_like_dusting','sinus_pressure','skin_peeling','skin_rash','slurred_speech','small_dents_in_nails','spinning_movements','spotting__urination','stiff_neck','stomach_bleeding','stomach_pain','sunken_eyes','sweating','swelled_lymph_nodes','swelling_joints','swelling_of_stomach','swollen_blood_vessels','swollen_extremeties','swollen_legs','throat_irritation','toxic_look_(typhos)','ulcers_on_tongue','unsteadiness','visual_disturbances','vomiting','watering_from_eyes','weakness_in_limbs','weakness_of_one_body_side','weight_gain','weight_loss','yellow_crust_ooze','yellow_urine','yellowing_of_eyes','yellowish_skin'])
#     symp_4 = st.sidebar.selectbox("Symptom_4", options= [np.nan,'abdominal_pain','abnormal_menstruation','acidity','acute_liver_failure','altered_sensorium', 'anxiety','back_pain','belly_pain','blackheads','bladder_discomfort','blister','blood_in_sputum','bloody_stool','blurred_and_distorted_vision','breathlessness','brittle_nails','bruising','burning_micturition','chest_pain','chills', 'cold_hands_and_feets','coma','congestion','constipation','continuous_feel_of_urine','continuous_sneezing','cough','cramps','dark_urine','dehydration','depression', 'diarrhoea','dischromic__patches','distention_of_abdomen','dizziness','drying_and_tingling_lips','enlarged_thyroid','excessive_hunger','extra_marital_contacts','family_history', 'fast_heart_rate','fatigue', 'fluid_overload','foul_smell_of_urine','headache','high_fever','hip_joint_pain', 'history_of_alcohol_consumption','increased_appetite','indigestion','inflammatory_nails','internal_itching','irregular_sugar_level','irritability','irritation_in_anus','itching','joint_pain','knee_pain','lack_of_concentration', 'lethargy','loss_of_appetite','loss_of_balance', 'loss_of_smell','malaise','mild_fever','mood_swings','movement_stiffness', 'mucoid_sputum','muscle_pain','muscle_wasting','muscle_weakness','nausea','neck_pain','nodal_skin_eruptions','obesity','pain_behind_the_eyes','pain_during_bowel_movements','pain_in_anal_region','painful_walking','palpitations','passage_of_gases','patches_in_throat','phlegm','polyuria','prominent_veins_on_calf','puffy_face_and_eyes','pus_filled_pimples','receiving_blood_transfusion','receiving_unsterile_injections','red_sore_around_nose','red_spots_over_body','redness_of_eyes','restlessness','runny_nose','rusty_sputum','scurring','shivering','silver_like_dusting','sinus_pressure','skin_peeling','skin_rash','slurred_speech','small_dents_in_nails','spinning_movements','spotting__urination','stiff_neck','stomach_bleeding','stomach_pain','sunken_eyes','sweating','swelled_lymph_nodes','swelling_joints','swelling_of_stomach','swollen_blood_vessels','swollen_extremeties','swollen_legs','throat_irritation','toxic_look_(typhos)','ulcers_on_tongue','unsteadiness','visual_disturbances','vomiting','watering_from_eyes','weakness_in_limbs','weakness_of_one_body_side','weight_gain','weight_loss','yellow_crust_ooze','yellow_urine','yellowing_of_eyes','yellowish_skin'])
#     symp_5 = st.sidebar.selectbox("Symptom_5", options= [np.nan,'abdominal_pain','abnormal_menstruation','acidity','acute_liver_failure','altered_sensorium', 'anxiety','back_pain','belly_pain','blackheads','bladder_discomfort','blister','blood_in_sputum','bloody_stool','blurred_and_distorted_vision','breathlessness','brittle_nails','bruising','burning_micturition','chest_pain','chills', 'cold_hands_and_feets','coma','congestion','constipation','continuous_feel_of_urine','continuous_sneezing','cough','cramps','dark_urine','dehydration','depression', 'diarrhoea','dischromic__patches','distention_of_abdomen','dizziness','drying_and_tingling_lips','enlarged_thyroid','excessive_hunger','extra_marital_contacts','family_history', 'fast_heart_rate','fatigue', 'fluid_overload','foul_smell_of_urine','headache','high_fever','hip_joint_pain', 'history_of_alcohol_consumption','increased_appetite','indigestion','inflammatory_nails','internal_itching','irregular_sugar_level','irritability','irritation_in_anus','itching','joint_pain','knee_pain','lack_of_concentration', 'lethargy','loss_of_appetite','loss_of_balance', 'loss_of_smell','malaise','mild_fever','mood_swings','movement_stiffness', 'mucoid_sputum','muscle_pain','muscle_wasting','muscle_weakness','nausea','neck_pain','nodal_skin_eruptions','obesity','pain_behind_the_eyes','pain_during_bowel_movements','pain_in_anal_region','painful_walking','palpitations','passage_of_gases','patches_in_throat','phlegm','polyuria','prominent_veins_on_calf','puffy_face_and_eyes','pus_filled_pimples','receiving_blood_transfusion','receiving_unsterile_injections','red_sore_around_nose','red_spots_over_body','redness_of_eyes','restlessness','runny_nose','rusty_sputum','scurring','shivering','silver_like_dusting','sinus_pressure','skin_peeling','skin_rash','slurred_speech','small_dents_in_nails','spinning_movements','spotting__urination','stiff_neck','stomach_bleeding','stomach_pain','sunken_eyes','sweating','swelled_lymph_nodes','swelling_joints','swelling_of_stomach','swollen_blood_vessels','swollen_extremeties','swollen_legs','throat_irritation','toxic_look_(typhos)','ulcers_on_tongue','unsteadiness','visual_disturbances','vomiting','watering_from_eyes','weakness_in_limbs','weakness_of_one_body_side','weight_gain','weight_loss','yellow_crust_ooze','yellow_urine','yellowing_of_eyes','yellowish_skin'])
#     symp_6 = st.sidebar.selectbox("Symptom_6", options= [np.nan,'abdominal_pain','abnormal_menstruation','acidity','acute_liver_failure','altered_sensorium', 'anxiety','back_pain','belly_pain','blackheads','bladder_discomfort','blister','blood_in_sputum','bloody_stool','blurred_and_distorted_vision','breathlessness','brittle_nails','bruising','burning_micturition','chest_pain','chills', 'cold_hands_and_feets','coma','congestion','constipation','continuous_feel_of_urine','continuous_sneezing','cough','cramps','dark_urine','dehydration','depression', 'diarrhoea','dischromic__patches','distention_of_abdomen','dizziness','drying_and_tingling_lips','enlarged_thyroid','excessive_hunger','extra_marital_contacts','family_history', 'fast_heart_rate','fatigue', 'fluid_overload','foul_smell_of_urine','headache','high_fever','hip_joint_pain', 'history_of_alcohol_consumption','increased_appetite','indigestion','inflammatory_nails','internal_itching','irregular_sugar_level','irritability','irritation_in_anus','itching','joint_pain','knee_pain','lack_of_concentration', 'lethargy','loss_of_appetite','loss_of_balance', 'loss_of_smell','malaise','mild_fever','mood_swings','movement_stiffness', 'mucoid_sputum','muscle_pain','muscle_wasting','muscle_weakness','nausea','neck_pain','nodal_skin_eruptions','obesity','pain_behind_the_eyes','pain_during_bowel_movements','pain_in_anal_region','painful_walking','palpitations','passage_of_gases','patches_in_throat','phlegm','polyuria','prominent_veins_on_calf','puffy_face_and_eyes','pus_filled_pimples','receiving_blood_transfusion','receiving_unsterile_injections','red_sore_around_nose','red_spots_over_body','redness_of_eyes','restlessness','runny_nose','rusty_sputum','scurring','shivering','silver_like_dusting','sinus_pressure','skin_peeling','skin_rash','slurred_speech','small_dents_in_nails','spinning_movements','spotting__urination','stiff_neck','stomach_bleeding','stomach_pain','sunken_eyes','sweating','swelled_lymph_nodes','swelling_joints','swelling_of_stomach','swollen_blood_vessels','swollen_extremeties','swollen_legs','throat_irritation','toxic_look_(typhos)','ulcers_on_tongue','unsteadiness','visual_disturbances','vomiting','watering_from_eyes','weakness_in_limbs','weakness_of_one_body_side','weight_gain','weight_loss','yellow_crust_ooze','yellow_urine','yellowing_of_eyes','yellowish_skin'])
#     symp_7 = st.sidebar.selectbox("Symptom_7", options= [np.nan,'abdominal_pain','abnormal_menstruation','acidity','acute_liver_failure','altered_sensorium', 'anxiety','back_pain','belly_pain','blackheads','bladder_discomfort','blister','blood_in_sputum','bloody_stool','blurred_and_distorted_vision','breathlessness','brittle_nails','bruising','burning_micturition','chest_pain','chills', 'cold_hands_and_feets','coma','congestion','constipation','continuous_feel_of_urine','continuous_sneezing','cough','cramps','dark_urine','dehydration','depression', 'diarrhoea','dischromic__patches','distention_of_abdomen','dizziness','drying_and_tingling_lips','enlarged_thyroid','excessive_hunger','extra_marital_contacts','family_history', 'fast_heart_rate','fatigue', 'fluid_overload','foul_smell_of_urine','headache','high_fever','hip_joint_pain', 'history_of_alcohol_consumption','increased_appetite','indigestion','inflammatory_nails','internal_itching','irregular_sugar_level','irritability','irritation_in_anus','itching','joint_pain','knee_pain','lack_of_concentration', 'lethargy','loss_of_appetite','loss_of_balance', 'loss_of_smell','malaise','mild_fever','mood_swings','movement_stiffness', 'mucoid_sputum','muscle_pain','muscle_wasting','muscle_weakness','nausea','neck_pain','nodal_skin_eruptions','obesity','pain_behind_the_eyes','pain_during_bowel_movements','pain_in_anal_region','painful_walking','palpitations','passage_of_gases','patches_in_throat','phlegm','polyuria','prominent_veins_on_calf','puffy_face_and_eyes','pus_filled_pimples','receiving_blood_transfusion','receiving_unsterile_injections','red_sore_around_nose','red_spots_over_body','redness_of_eyes','restlessness','runny_nose','rusty_sputum','scurring','shivering','silver_like_dusting','sinus_pressure','skin_peeling','skin_rash','slurred_speech','small_dents_in_nails','spinning_movements','spotting__urination','stiff_neck','stomach_bleeding','stomach_pain','sunken_eyes','sweating','swelled_lymph_nodes','swelling_joints','swelling_of_stomach','swollen_blood_vessels','swollen_extremeties','swollen_legs','throat_irritation','toxic_look_(typhos)','ulcers_on_tongue','unsteadiness','visual_disturbances','vomiting','watering_from_eyes','weakness_in_limbs','weakness_of_one_body_side','weight_gain','weight_loss','yellow_crust_ooze','yellow_urine','yellowing_of_eyes','yellowish_skin'])
#     symp_8 = st.sidebar.selectbox("Symptom_8", options= [np.nan,'abdominal_pain','abnormal_menstruation','acidity','acute_liver_failure','altered_sensorium', 'anxiety','back_pain','belly_pain','blackheads','bladder_discomfort','blister','blood_in_sputum','bloody_stool','blurred_and_distorted_vision','breathlessness','brittle_nails','bruising','burning_micturition','chest_pain','chills', 'cold_hands_and_feets','coma','congestion','constipation','continuous_feel_of_urine','continuous_sneezing','cough','cramps','dark_urine','dehydration','depression', 'diarrhoea','dischromic__patches','distention_of_abdomen','dizziness','drying_and_tingling_lips','enlarged_thyroid','excessive_hunger','extra_marital_contacts','family_history', 'fast_heart_rate','fatigue', 'fluid_overload','foul_smell_of_urine','headache','high_fever','hip_joint_pain', 'history_of_alcohol_consumption','increased_appetite','indigestion','inflammatory_nails','internal_itching','irregular_sugar_level','irritability','irritation_in_anus','itching','joint_pain','knee_pain','lack_of_concentration', 'lethargy','loss_of_appetite','loss_of_balance', 'loss_of_smell','malaise','mild_fever','mood_swings','movement_stiffness', 'mucoid_sputum','muscle_pain','muscle_wasting','muscle_weakness','nausea','neck_pain','nodal_skin_eruptions','obesity','pain_behind_the_eyes','pain_during_bowel_movements','pain_in_anal_region','painful_walking','palpitations','passage_of_gases','patches_in_throat','phlegm','polyuria','prominent_veins_on_calf','puffy_face_and_eyes','pus_filled_pimples','receiving_blood_transfusion','receiving_unsterile_injections','red_sore_around_nose','red_spots_over_body','redness_of_eyes','restlessness','runny_nose','rusty_sputum','scurring','shivering','silver_like_dusting','sinus_pressure','skin_peeling','skin_rash','slurred_speech','small_dents_in_nails','spinning_movements','spotting__urination','stiff_neck','stomach_bleeding','stomach_pain','sunken_eyes','sweating','swelled_lymph_nodes','swelling_joints','swelling_of_stomach','swollen_blood_vessels','swollen_extremeties','swollen_legs','throat_irritation','toxic_look_(typhos)','ulcers_on_tongue','unsteadiness','visual_disturbances','vomiting','watering_from_eyes','weakness_in_limbs','weakness_of_one_body_side','weight_gain','weight_loss','yellow_crust_ooze','yellow_urine','yellowing_of_eyes','yellowish_skin'])
#     symp_9 = st.sidebar.selectbox("Symptom_9", options= [np.nan,'abdominal_pain','abnormal_menstruation','acidity','acute_liver_failure','altered_sensorium', 'anxiety','back_pain','belly_pain','blackheads','bladder_discomfort','blister','blood_in_sputum','bloody_stool','blurred_and_distorted_vision','breathlessness','brittle_nails','bruising','burning_micturition','chest_pain','chills', 'cold_hands_and_feets','coma','congestion','constipation','continuous_feel_of_urine','continuous_sneezing','cough','cramps','dark_urine','dehydration','depression', 'diarrhoea','dischromic__patches','distention_of_abdomen','dizziness','drying_and_tingling_lips','enlarged_thyroid','excessive_hunger','extra_marital_contacts','family_history', 'fast_heart_rate','fatigue', 'fluid_overload','foul_smell_of_urine','headache','high_fever','hip_joint_pain', 'history_of_alcohol_consumption','increased_appetite','indigestion','inflammatory_nails','internal_itching','irregular_sugar_level','irritability','irritation_in_anus','itching','joint_pain','knee_pain','lack_of_concentration', 'lethargy','loss_of_appetite','loss_of_balance', 'loss_of_smell','malaise','mild_fever','mood_swings','movement_stiffness', 'mucoid_sputum','muscle_pain','muscle_wasting','muscle_weakness','nausea','neck_pain','nodal_skin_eruptions','obesity','pain_behind_the_eyes','pain_during_bowel_movements','pain_in_anal_region','painful_walking','palpitations','passage_of_gases','patches_in_throat','phlegm','polyuria','prominent_veins_on_calf','puffy_face_and_eyes','pus_filled_pimples','receiving_blood_transfusion','receiving_unsterile_injections','red_sore_around_nose','red_spots_over_body','redness_of_eyes','restlessness','runny_nose','rusty_sputum','scurring','shivering','silver_like_dusting','sinus_pressure','skin_peeling','skin_rash','slurred_speech','small_dents_in_nails','spinning_movements','spotting__urination','stiff_neck','stomach_bleeding','stomach_pain','sunken_eyes','sweating','swelled_lymph_nodes','swelling_joints','swelling_of_stomach','swollen_blood_vessels','swollen_extremeties','swollen_legs','throat_irritation','toxic_look_(typhos)','ulcers_on_tongue','unsteadiness','visual_disturbances','vomiting','watering_from_eyes','weakness_in_limbs','weakness_of_one_body_side','weight_gain','weight_loss','yellow_crust_ooze','yellow_urine','yellowing_of_eyes','yellowish_skin'])
#     symp_10 = st.sidebar.selectbox("Symptom_10", options= [np.nan,'abdominal_pain','abnormal_menstruation','acidity','acute_liver_failure','altered_sensorium', 'anxiety','back_pain','belly_pain','blackheads','bladder_discomfort','blister','blood_in_sputum','bloody_stool','blurred_and_distorted_vision','breathlessness','brittle_nails','bruising','burning_micturition','chest_pain','chills', 'cold_hands_and_feets','coma','congestion','constipation','continuous_feel_of_urine','continuous_sneezing','cough','cramps','dark_urine','dehydration','depression', 'diarrhoea','dischromic__patches','distention_of_abdomen','dizziness','drying_and_tingling_lips','enlarged_thyroid','excessive_hunger','extra_marital_contacts','family_history', 'fast_heart_rate','fatigue', 'fluid_overload','foul_smell_of_urine','headache','high_fever','hip_joint_pain', 'history_of_alcohol_consumption','increased_appetite','indigestion','inflammatory_nails','internal_itching','irregular_sugar_level','irritability','irritation_in_anus','itching','joint_pain','knee_pain','lack_of_concentration', 'lethargy','loss_of_appetite','loss_of_balance', 'loss_of_smell','malaise','mild_fever','mood_swings','movement_stiffness', 'mucoid_sputum','muscle_pain','muscle_wasting','muscle_weakness','nausea','neck_pain','nodal_skin_eruptions','obesity','pain_behind_the_eyes','pain_during_bowel_movements','pain_in_anal_region','painful_walking','palpitations','passage_of_gases','patches_in_throat','phlegm','polyuria','prominent_veins_on_calf','puffy_face_and_eyes','pus_filled_pimples','receiving_blood_transfusion','receiving_unsterile_injections','red_sore_around_nose','red_spots_over_body','redness_of_eyes','restlessness','runny_nose','rusty_sputum','scurring','shivering','silver_like_dusting','sinus_pressure','skin_peeling','skin_rash','slurred_speech','small_dents_in_nails','spinning_movements','spotting__urination','stiff_neck','stomach_bleeding','stomach_pain','sunken_eyes','sweating','swelled_lymph_nodes','swelling_joints','swelling_of_stomach','swollen_blood_vessels','swollen_extremeties','swollen_legs','throat_irritation','toxic_look_(typhos)','ulcers_on_tongue','unsteadiness','visual_disturbances','vomiting','watering_from_eyes','weakness_in_limbs','weakness_of_one_body_side','weight_gain','weight_loss','yellow_crust_ooze','yellow_urine','yellowing_of_eyes','yellowish_skin'])
#     symp_11 = st.sidebar.selectbox("Symptom_11", options= [np.nan,'abdominal_pain','abnormal_menstruation','acidity','acute_liver_failure','altered_sensorium', 'anxiety','back_pain','belly_pain','blackheads','bladder_discomfort','blister','blood_in_sputum','bloody_stool','blurred_and_distorted_vision','breathlessness','brittle_nails','bruising','burning_micturition','chest_pain','chills', 'cold_hands_and_feets','coma','congestion','constipation','continuous_feel_of_urine','continuous_sneezing','cough','cramps','dark_urine','dehydration','depression', 'diarrhoea','dischromic__patches','distention_of_abdomen','dizziness','drying_and_tingling_lips','enlarged_thyroid','excessive_hunger','extra_marital_contacts','family_history', 'fast_heart_rate','fatigue', 'fluid_overload','foul_smell_of_urine','headache','high_fever','hip_joint_pain', 'history_of_alcohol_consumption','increased_appetite','indigestion','inflammatory_nails','internal_itching','irregular_sugar_level','irritability','irritation_in_anus','itching','joint_pain','knee_pain','lack_of_concentration', 'lethargy','loss_of_appetite','loss_of_balance', 'loss_of_smell','malaise','mild_fever','mood_swings','movement_stiffness', 'mucoid_sputum','muscle_pain','muscle_wasting','muscle_weakness','nausea','neck_pain','nodal_skin_eruptions','obesity','pain_behind_the_eyes','pain_during_bowel_movements','pain_in_anal_region','painful_walking','palpitations','passage_of_gases','patches_in_throat','phlegm','polyuria','prominent_veins_on_calf','puffy_face_and_eyes','pus_filled_pimples','receiving_blood_transfusion','receiving_unsterile_injections','red_sore_around_nose','red_spots_over_body','redness_of_eyes','restlessness','runny_nose','rusty_sputum','scurring','shivering','silver_like_dusting','sinus_pressure','skin_peeling','skin_rash','slurred_speech','small_dents_in_nails','spinning_movements','spotting__urination','stiff_neck','stomach_bleeding','stomach_pain','sunken_eyes','sweating','swelled_lymph_nodes','swelling_joints','swelling_of_stomach','swollen_blood_vessels','swollen_extremeties','swollen_legs','throat_irritation','toxic_look_(typhos)','ulcers_on_tongue','unsteadiness','visual_disturbances','vomiting','watering_from_eyes','weakness_in_limbs','weakness_of_one_body_side','weight_gain','weight_loss','yellow_crust_ooze','yellow_urine','yellowing_of_eyes','yellowish_skin'])
#     symp_12 = st.sidebar.selectbox("Symptom_12", options= [np.nan,'abdominal_pain','abnormal_menstruation','acidity','acute_liver_failure','altered_sensorium', 'anxiety','back_pain','belly_pain','blackheads','bladder_discomfort','blister','blood_in_sputum','bloody_stool','blurred_and_distorted_vision','breathlessness','brittle_nails','bruising','burning_micturition','chest_pain','chills', 'cold_hands_and_feets','coma','congestion','constipation','continuous_feel_of_urine','continuous_sneezing','cough','cramps','dark_urine','dehydration','depression', 'diarrhoea','dischromic__patches','distention_of_abdomen','dizziness','drying_and_tingling_lips','enlarged_thyroid','excessive_hunger','extra_marital_contacts','family_history', 'fast_heart_rate','fatigue', 'fluid_overload','foul_smell_of_urine','headache','high_fever','hip_joint_pain', 'history_of_alcohol_consumption','increased_appetite','indigestion','inflammatory_nails','internal_itching','irregular_sugar_level','irritability','irritation_in_anus','itching','joint_pain','knee_pain','lack_of_concentration', 'lethargy','loss_of_appetite','loss_of_balance', 'loss_of_smell','malaise','mild_fever','mood_swings','movement_stiffness', 'mucoid_sputum','muscle_pain','muscle_wasting','muscle_weakness','nausea','neck_pain','nodal_skin_eruptions','obesity','pain_behind_the_eyes','pain_during_bowel_movements','pain_in_anal_region','painful_walking','palpitations','passage_of_gases','patches_in_throat','phlegm','polyuria','prominent_veins_on_calf','puffy_face_and_eyes','pus_filled_pimples','receiving_blood_transfusion','receiving_unsterile_injections','red_sore_around_nose','red_spots_over_body','redness_of_eyes','restlessness','runny_nose','rusty_sputum','scurring','shivering','silver_like_dusting','sinus_pressure','skin_peeling','skin_rash','slurred_speech','small_dents_in_nails','spinning_movements','spotting__urination','stiff_neck','stomach_bleeding','stomach_pain','sunken_eyes','sweating','swelled_lymph_nodes','swelling_joints','swelling_of_stomach','swollen_blood_vessels','swollen_extremeties','swollen_legs','throat_irritation','toxic_look_(typhos)','ulcers_on_tongue','unsteadiness','visual_disturbances','vomiting','watering_from_eyes','weakness_in_limbs','weakness_of_one_body_side','weight_gain','weight_loss','yellow_crust_ooze','yellow_urine','yellowing_of_eyes','yellowish_skin'])
#     symp_13 = st.sidebar.selectbox("Symptom_13", options= [np.nan,'abdominal_pain','abnormal_menstruation','acidity','acute_liver_failure','altered_sensorium', 'anxiety','back_pain','belly_pain','blackheads','bladder_discomfort','blister','blood_in_sputum','bloody_stool','blurred_and_distorted_vision','breathlessness','brittle_nails','bruising','burning_micturition','chest_pain','chills', 'cold_hands_and_feets','coma','congestion','constipation','continuous_feel_of_urine','continuous_sneezing','cough','cramps','dark_urine','dehydration','depression', 'diarrhoea','dischromic__patches','distention_of_abdomen','dizziness','drying_and_tingling_lips','enlarged_thyroid','excessive_hunger','extra_marital_contacts','family_history', 'fast_heart_rate','fatigue', 'fluid_overload','foul_smell_of_urine','headache','high_fever','hip_joint_pain', 'history_of_alcohol_consumption','increased_appetite','indigestion','inflammatory_nails','internal_itching','irregular_sugar_level','irritability','irritation_in_anus','itching','joint_pain','knee_pain','lack_of_concentration', 'lethargy','loss_of_appetite','loss_of_balance', 'loss_of_smell','malaise','mild_fever','mood_swings','movement_stiffness', 'mucoid_sputum','muscle_pain','muscle_wasting','muscle_weakness','nausea','neck_pain','nodal_skin_eruptions','obesity','pain_behind_the_eyes','pain_during_bowel_movements','pain_in_anal_region','painful_walking','palpitations','passage_of_gases','patches_in_throat','phlegm','polyuria','prominent_veins_on_calf','puffy_face_and_eyes','pus_filled_pimples','receiving_blood_transfusion','receiving_unsterile_injections','red_sore_around_nose','red_spots_over_body','redness_of_eyes','restlessness','runny_nose','rusty_sputum','scurring','shivering','silver_like_dusting','sinus_pressure','skin_peeling','skin_rash','slurred_speech','small_dents_in_nails','spinning_movements','spotting__urination','stiff_neck','stomach_bleeding','stomach_pain','sunken_eyes','sweating','swelled_lymph_nodes','swelling_joints','swelling_of_stomach','swollen_blood_vessels','swollen_extremeties','swollen_legs','throat_irritation','toxic_look_(typhos)','ulcers_on_tongue','unsteadiness','visual_disturbances','vomiting','watering_from_eyes','weakness_in_limbs','weakness_of_one_body_side','weight_gain','weight_loss','yellow_crust_ooze','yellow_urine','yellowing_of_eyes','yellowish_skin'])
#     symp_14 = st.sidebar.selectbox("Symptom_14", options= [np.nan,'abdominal_pain','abnormal_menstruation','acidity','acute_liver_failure','altered_sensorium', 'anxiety','back_pain','belly_pain','blackheads','bladder_discomfort','blister','blood_in_sputum','bloody_stool','blurred_and_distorted_vision','breathlessness','brittle_nails','bruising','burning_micturition','chest_pain','chills', 'cold_hands_and_feets','coma','congestion','constipation','continuous_feel_of_urine','continuous_sneezing','cough','cramps','dark_urine','dehydration','depression', 'diarrhoea','dischromic__patches','distention_of_abdomen','dizziness','drying_and_tingling_lips','enlarged_thyroid','excessive_hunger','extra_marital_contacts','family_history', 'fast_heart_rate','fatigue', 'fluid_overload','foul_smell_of_urine','headache','high_fever','hip_joint_pain', 'history_of_alcohol_consumption','increased_appetite','indigestion','inflammatory_nails','internal_itching','irregular_sugar_level','irritability','irritation_in_anus','itching','joint_pain','knee_pain','lack_of_concentration', 'lethargy','loss_of_appetite','loss_of_balance', 'loss_of_smell','malaise','mild_fever','mood_swings','movement_stiffness', 'mucoid_sputum','muscle_pain','muscle_wasting','muscle_weakness','nausea','neck_pain','nodal_skin_eruptions','obesity','pain_behind_the_eyes','pain_during_bowel_movements','pain_in_anal_region','painful_walking','palpitations','passage_of_gases','patches_in_throat','phlegm','polyuria','prominent_veins_on_calf','puffy_face_and_eyes','pus_filled_pimples','receiving_blood_transfusion','receiving_unsterile_injections','red_sore_around_nose','red_spots_over_body','redness_of_eyes','restlessness','runny_nose','rusty_sputum','scurring','shivering','silver_like_dusting','sinus_pressure','skin_peeling','skin_rash','slurred_speech','small_dents_in_nails','spinning_movements','spotting__urination','stiff_neck','stomach_bleeding','stomach_pain','sunken_eyes','sweating','swelled_lymph_nodes','swelling_joints','swelling_of_stomach','swollen_blood_vessels','swollen_extremeties','swollen_legs','throat_irritation','toxic_look_(typhos)','ulcers_on_tongue','unsteadiness','visual_disturbances','vomiting','watering_from_eyes','weakness_in_limbs','weakness_of_one_body_side','weight_gain','weight_loss','yellow_crust_ooze','yellow_urine','yellowing_of_eyes','yellowish_skin'])
#     symp_15 = st.sidebar.selectbox("Symptom_15", options= [np.nan,'abdominal_pain','abnormal_menstruation','acidity','acute_liver_failure','altered_sensorium', 'anxiety','back_pain','belly_pain','blackheads','bladder_discomfort','blister','blood_in_sputum','bloody_stool','blurred_and_distorted_vision','breathlessness','brittle_nails','bruising','burning_micturition','chest_pain','chills', 'cold_hands_and_feets','coma','congestion','constipation','continuous_feel_of_urine','continuous_sneezing','cough','cramps','dark_urine','dehydration','depression', 'diarrhoea','dischromic__patches','distention_of_abdomen','dizziness','drying_and_tingling_lips','enlarged_thyroid','excessive_hunger','extra_marital_contacts','family_history', 'fast_heart_rate','fatigue', 'fluid_overload','foul_smell_of_urine','headache','high_fever','hip_joint_pain', 'history_of_alcohol_consumption','increased_appetite','indigestion','inflammatory_nails','internal_itching','irregular_sugar_level','irritability','irritation_in_anus','itching','joint_pain','knee_pain','lack_of_concentration', 'lethargy','loss_of_appetite','loss_of_balance', 'loss_of_smell','malaise','mild_fever','mood_swings','movement_stiffness', 'mucoid_sputum','muscle_pain','muscle_wasting','muscle_weakness','nausea','neck_pain','nodal_skin_eruptions','obesity','pain_behind_the_eyes','pain_during_bowel_movements','pain_in_anal_region','painful_walking','palpitations','passage_of_gases','patches_in_throat','phlegm','polyuria','prominent_veins_on_calf','puffy_face_and_eyes','pus_filled_pimples','receiving_blood_transfusion','receiving_unsterile_injections','red_sore_around_nose','red_spots_over_body','redness_of_eyes','restlessness','runny_nose','rusty_sputum','scurring','shivering','silver_like_dusting','sinus_pressure','skin_peeling','skin_rash','slurred_speech','small_dents_in_nails','spinning_movements','spotting__urination','stiff_neck','stomach_bleeding','stomach_pain','sunken_eyes','sweating','swelled_lymph_nodes','swelling_joints','swelling_of_stomach','swollen_blood_vessels','swollen_extremeties','swollen_legs','throat_irritation','toxic_look_(typhos)','ulcers_on_tongue','unsteadiness','visual_disturbances','vomiting','watering_from_eyes','weakness_in_limbs','weakness_of_one_body_side','weight_gain','weight_loss','yellow_crust_ooze','yellow_urine','yellowing_of_eyes','yellowish_skin'])
#     symp_16 = st.sidebar.selectbox("Symptom_16", options= [np.nan,'abdominal_pain','abnormal_menstruation','acidity','acute_liver_failure','altered_sensorium', 'anxiety','back_pain','belly_pain','blackheads','bladder_discomfort','blister','blood_in_sputum','bloody_stool','blurred_and_distorted_vision','breathlessness','brittle_nails','bruising','burning_micturition','chest_pain','chills', 'cold_hands_and_feets','coma','congestion','constipation','continuous_feel_of_urine','continuous_sneezing','cough','cramps','dark_urine','dehydration','depression', 'diarrhoea','dischromic__patches','distention_of_abdomen','dizziness','drying_and_tingling_lips','enlarged_thyroid','excessive_hunger','extra_marital_contacts','family_history', 'fast_heart_rate','fatigue', 'fluid_overload','foul_smell_of_urine','headache','high_fever','hip_joint_pain', 'history_of_alcohol_consumption','increased_appetite','indigestion','inflammatory_nails','internal_itching','irregular_sugar_level','irritability','irritation_in_anus','itching','joint_pain','knee_pain','lack_of_concentration', 'lethargy','loss_of_appetite','loss_of_balance', 'loss_of_smell','malaise','mild_fever','mood_swings','movement_stiffness', 'mucoid_sputum','muscle_pain','muscle_wasting','muscle_weakness','nausea','neck_pain','nodal_skin_eruptions','obesity','pain_behind_the_eyes','pain_during_bowel_movements','pain_in_anal_region','painful_walking','palpitations','passage_of_gases','patches_in_throat','phlegm','polyuria','prominent_veins_on_calf','puffy_face_and_eyes','pus_filled_pimples','receiving_blood_transfusion','receiving_unsterile_injections','red_sore_around_nose','red_spots_over_body','redness_of_eyes','restlessness','runny_nose','rusty_sputum','scurring','shivering','silver_like_dusting','sinus_pressure','skin_peeling','skin_rash','slurred_speech','small_dents_in_nails','spinning_movements','spotting__urination','stiff_neck','stomach_bleeding','stomach_pain','sunken_eyes','sweating','swelled_lymph_nodes','swelling_joints','swelling_of_stomach','swollen_blood_vessels','swollen_extremeties','swollen_legs','throat_irritation','toxic_look_(typhos)','ulcers_on_tongue','unsteadiness','visual_disturbances','vomiting','watering_from_eyes','weakness_in_limbs','weakness_of_one_body_side','weight_gain','weight_loss','yellow_crust_ooze','yellow_urine','yellowing_of_eyes','yellowish_skin'])
#     symp_17 = st.sidebar.selectbox("Symptom_17", options= [np.nan,'abdominal_pain','abnormal_menstruation','acidity','acute_liver_failure','altered_sensorium', 'anxiety','back_pain','belly_pain','blackheads','bladder_discomfort','blister','blood_in_sputum','bloody_stool','blurred_and_distorted_vision','breathlessness','brittle_nails','bruising','burning_micturition','chest_pain','chills', 'cold_hands_and_feets','coma','congestion','constipation','continuous_feel_of_urine','continuous_sneezing','cough','cramps','dark_urine','dehydration','depression', 'diarrhoea','dischromic__patches','distention_of_abdomen','dizziness','drying_and_tingling_lips','enlarged_thyroid','excessive_hunger','extra_marital_contacts','family_history', 'fast_heart_rate','fatigue', 'fluid_overload','foul_smell_of_urine','headache','high_fever','hip_joint_pain', 'history_of_alcohol_consumption','increased_appetite','indigestion','inflammatory_nails','internal_itching','irregular_sugar_level','irritability','irritation_in_anus','itching','joint_pain','knee_pain','lack_of_concentration', 'lethargy','loss_of_appetite','loss_of_balance', 'loss_of_smell','malaise','mild_fever','mood_swings','movement_stiffness', 'mucoid_sputum','muscle_pain','muscle_wasting','muscle_weakness','nausea','neck_pain','nodal_skin_eruptions','obesity','pain_behind_the_eyes','pain_during_bowel_movements','pain_in_anal_region','painful_walking','palpitations','passage_of_gases','patches_in_throat','phlegm','polyuria','prominent_veins_on_calf','puffy_face_and_eyes','pus_filled_pimples','receiving_blood_transfusion','receiving_unsterile_injections','red_sore_around_nose','red_spots_over_body','redness_of_eyes','restlessness','runny_nose','rusty_sputum','scurring','shivering','silver_like_dusting','sinus_pressure','skin_peeling','skin_rash','slurred_speech','small_dents_in_nails','spinning_movements','spotting__urination','stiff_neck','stomach_bleeding','stomach_pain','sunken_eyes','sweating','swelled_lymph_nodes','swelling_joints','swelling_of_stomach','swollen_blood_vessels','swollen_extremeties','swollen_legs','throat_irritation','toxic_look_(typhos)','ulcers_on_tongue','unsteadiness','visual_disturbances','vomiting','watering_from_eyes','weakness_in_limbs','weakness_of_one_body_side','weight_gain','weight_loss','yellow_crust_ooze','yellow_urine','yellowing_of_eyes','yellowish_skin'])
 
    # Add data dictionary
    # data = {"Symptom_1": symp_1, "Symptom_2": symp_2, "Symptom_3": symp_3, "Symptom_4": symp_4, "Symptom_5": symp_5, "Symptom_6": symp_6, "Symptom_7": symp_7, "Symptom_8": symp_8, "Symptom_9": symp_9, "Symptom_10": symp_10, "Symptom_11": symp_11, "Symptom_12": symp_12, "Symptom_13": symp_13, "Symptom_14": symp_14, "Symptom_15": symp_15, "Symptom_16": symp_16, "Symptom_17": symp_17}

    # sympts = pd.DataFrame(data, index=[0])
    # return sympts




#Display symptoms dataframe
symptomp = st.container()

with symptomp:
    st.subheader("Your Symptoms")
    for option in options:
        st.write(option)
    for option in options:
        df[option] = 1

    #df = user_input_symp()
    #st.write(df)
# Make submit button (This makes the prediction faster and load at once)




#Display predicted disease
st.subheader("Predicted Disease")

df_list = df.iloc[0].to_list()
df_arr = np.array(df_list)
df_arr = df_arr.reshape(1,-1)

# Make the prediction
prediction = ml_model.predict(df_arr)
dis = prediction[0]
d = disease_classes[dis]

# Make submit button (This makes the prediction faster and load at once)
if st.sidebar.button('Predict'):
    with st.spinner('Wait for it...'):
        time.sleep(3)
        st.success('Done!')
        st.write(d)  
else:
    st.sidebar.markdown("Waiting for your symptoms!")  



# # Predict disease
# df = encode_symptoms(df, df_4)
# standardized_df = scaler.transform(df)
# d = rfc_classifier.predict(standardized_df).item()
# d_strip = d.strip().replace("_", " ")

# #st.write("The predicted Disease is:")
# st.write(d_strip)

# Display description of predicted disease
st.subheader("Desription of Predicted Disease")
descr = (df_2[df_2["Disease"] == d]["Description"].item())
st.write(descr)


# Display Precautions to take
st.subheader("Precautions to take")
prec_1 = df_3[df_3["Disease"] == d]["Precaution_1"].item().title()
prec_2 = df_3[df_3["Disease"] == d]["Precaution_2"].item().title()
prec_3 = df_3[df_3["Disease"] == d]["Precaution_3"].item().title()
prec_4 = df_3[df_3["Disease"] == d]["Precaution_4"].item().title()

st.write(prec_1)
st.write(prec_2)
st.write(prec_3)
st.write(prec_4)



# Ask question
# On real disease if known
st.subheader("Do you know your disease?")
st.markdown("We would love to know your real disease to see how well our model did. If you are aware of it, please input below and if you are not aware, type *not known*")
diseas = st.text_input("Name of disease", placeholder="type here")

# On medications, if on any
st.subheader("Are you on any medications?")
st.markdown("If you are on any medication, please list out the drugs below. E.g  *Paracetamol, Vitamin C and Loratadine*. If you are not on any drugs, type *none*")
drugs = st.text_input("Name of drugs", placeholder="type here")

#def Summary(dis, drug):
#     if dis != " " and drugs != " ":
#         summary = (f"""
#            Thank you for using our predictor model. 
#            Here is a summary. 
#            Your predicted disease is {d_strip}, your real disease is {diseas} and the drugs you are on is {drugs}""")
#     else:
#         summary = (f""" Thank you for using our predictor model. 
#                        Here is a summary. 
#                        Your predicted disease is {d_strip}, your real disease is not known and you are not on any drugs""")
#     return summary    

# summary = Summary(diseas, drugs)

summary = (f"""
           Thank you for using our predictor model. 
           Here is a summary. 
           Your predicted disease is {d}, your real disease is {diseas} and the drugs you are on is {drugs}
        
            Description of predicted disease: {descr}
            Precautions to take: 1. {prec_1}
                                 2. {prec_2}
                                 3. {prec_3} 
                                 4. {prec_4}
""")

st.markdown("Thank you for trying out the model, download your summary below ")
st.download_button("Download your report", data=summary)